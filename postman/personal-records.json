{
  "info": {
    "name": "Personal Records API (Multi-Set)",
    "_postman_id": "9a1b4a2c-2d9c-41b8-9cd0-32aa7b8c4cfa",
    "description": "Postman collection for testing the Personal Records API with multi-set per day support.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Create Daily PR (multi-sets)",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": { "raw": "{{baseUrl}}/prs", "host": ["{{baseUrl}}"], "path": ["prs"] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"exerciseName\": \"Bench Press\",\n  \"date\": \"2025-09-07\",\n  \"records\": [\n    { \"id\": \"set-1\", \"weight\": 100, \"reps\": 5, \"done\": true, \"setNumber\": 1 },\n    { \"id\": \"set-2\", \"weight\": 95, \"reps\": 6, \"done\": true, \"setNumber\": 2 }\n  ]\n}"
        }
      }
    },
    {
      "name": "Upsert Single Set (attempt)",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": { "raw": "{{baseUrl}}/prs/attempt", "host": ["{{baseUrl}}"], "path": ["prs","attempt"] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"exerciseName\": \"Bench Press\",\n  \"date\": \"2025-09-07\",\n  \"set\": { \"id\": \"set-3\", \"weight\": 105, \"reps\": 3, \"done\": true, \"setNumber\": 3 }\n}"
        }
      }
    },
    {
      "name": "List Daily Records",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/prs?exerciseName=Bench%20Press&from=2025-09-01&to=2025-09-30&sortBy=date&sortOrder=DESC&offset=0&limit=10",
          "host": ["{{baseUrl}}"],
          "path": ["prs"],
          "query": [
            { "key": "exerciseName", "value": "Bench Press" },
            { "key": "from", "value": "2025-09-01" },
            { "key": "to", "value": "2025-09-30" },
            { "key": "sortBy", "value": "date" },
            { "key": "sortOrder", "value": "DESC" },
            { "key": "offset", "value": "0" },
            { "key": "limit", "value": "10" }
          ]
        }
      }
    },
    {
      "name": "Get Daily Record by ID",
      "request": {
        "method": "GET",
        "url": { "raw": "{{baseUrl}}/prs/{{prId}}", "host": ["{{baseUrl}}"], "path": ["prs","{{prId}}"] }
      }
    },
    {
      "name": "Update Daily Record (replace records array)",
      "request": {
        "method": "PATCH",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": { "raw": "{{baseUrl}}/prs/{{prId}}", "host": ["{{baseUrl}}"], "path": ["prs","{{prId}}"] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"records\": [\n    { \"id\": \"set-1\", \"weight\": 100, \"reps\": 5, \"done\": true, \"setNumber\": 1 },\n    { \"id\": \"set-2\", \"weight\": 95, \"reps\": 7, \"done\": true, \"setNumber\": 2 },\n    { \"id\": \"set-3\", \"weight\": 105, \"reps\": 3, \"done\": true, \"setNumber\": 3 }\n  ]\n}"
        }
      }
    },
    {
      "name": "Delete Daily Record",
      "request": {
        "method": "DELETE",
        "url": { "raw": "{{baseUrl}}/prs/{{prId}}", "host": ["{{baseUrl}}"], "path": ["prs","{{prId}}"] }
      }
    },
    {
      "name": "Stats - Overview",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/prs/stats/overview?windowDays=30",
          "host": ["{{baseUrl}}"],
          "path": ["prs","stats","overview"],
          "query": [{ "key": "windowDays", "value": "30" }]
        }
      }
    },
    {
      "name": "Stats - e1RM Series",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/prs/stats/e1rm-series?exerciseName=Bench%20Press&bucket=week&windowDays=90",
          "host": ["{{baseUrl}}"],
          "path": ["prs","stats","e1rm-series"],
          "query": [
            { "key": "exerciseName", "value": "Bench Press" },
            { "key": "bucket", "value": "week" },
            { "key": "windowDays", "value": "90" }
          ]
        }
      }
    },
    {
      "name": "Stats - Top Sets",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/prs/stats/top-sets?exerciseName=Bench%20Press&top=5",
          "host": ["{{baseUrl}}"],
          "path": ["prs","stats","top-sets"],
          "query": [
            { "key": "exerciseName", "value": "Bench Press" },
            { "key": "top", "value": "5" }
          ]
        }
      }
    },
    {
      "name": "History - Attempts for Exercise",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{baseUrl}}/prs/history?exerciseName=Bench%20Press",
          "host": ["{{baseUrl}}"],
          "path": ["prs","history"],
          "query": [{ "key": "exerciseName", "value": "Bench Press" }]
        }
      }
    }
  ],
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:8081/api/v1" },
    { "key": "prId", "value": "uuid-of-daily-record" }
  ]
}
